<xml xmlns="https://developers.google.com/blockly/xml"><block type="pxt-on-start" id=")ZRoM7X[4A[KJfFP?j9g" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="g$6I#-qKF=(@Ckg,,p@4" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace NewtonovyZakony{" line1="" line2="    //% block=&quot;Spustí odeílatele skupina_rádia: %radioGroup, Osa_akcelerometru: %dimension, popis_hodnoty: %popis_hodnoty, rychlost_motoru: %rychlost_motoru, Pauza_mezi_merenimi(ms): %t_pause, Počet hodnot v klouzavém průměru: %avg_count, Rozsah měřených hodnot: %range&quot;" line3="    export function spustOdesilatele(radioGroup: number, dimension: Dimension, popis_hodnoty:string, rychlost_motoru:number, t_pause?: number, avg_count?: number, range?: AcceleratorRange){" line4="" line5="        let suma = 0" line6="        let index = 0" line7="        let pole_hodnot: any[] = [];" line8="" line9="        if (!range) range = AcceleratorRange.OneG;" line10="        if (!t_pause) t_pause = 50;" line11="" line12="        radio.setGroup(radioGroup);" line13="        input.setAccelerometerRange(range)" line14="" line15="        control.inBackground(function(){" line16="" line17="            while (true) {" line18="                pole_hodnot[index] = input.acceleration(dimension)" line19="                index += 1" line20="                if (index &gt; avg_count) index = 0" line21="" line22="                suma = 0" line23="                for (let i = 0; i &lt; pole_hodnot.length; i++) suma += pole_hodnot[i]" line24="                pause(10);" line25="            }" line26="        });" line27="        control.inBackground(function () {" line28="            while (true) {" line29="" line30="                radio.sendString(popis_hodnoty + &quot;:&quot; + Math.round(suma / pole_hodnot.length))" line31="                //serial.writeLine(popis_hodnoty + &quot;:&quot; + suma / pole_hodnot.length)" line32="                pause(t_pause);" line33="            }" line34="        })" line35="        " line36="        radio.onReceivedString(function(receivedString: string) {" line37="            " line38="            if (receivedString == 'GOGO'){" line39="" line40="                wuKong.setAllMotor(rychlost_motoru, rychlost_motoru);" line41="" line42="            }" line43="" line44="            if (receivedString == 'STOP') {" line45="                wuKong.setAllMotor(0, 0);" line46="            }" line47="        })" line48="" line49="    }" line50="" line51="    //% block=&quot;Spustí Příjemce a ovladač skupina_rádia: %radioGroup&quot;" line52="    export function spustPrijemce(radioGroup: number){" line53="" line54="        let prijato = false;" line55="" line56="        radio.onReceivedString(function (receivedString) {" line57="            serial.writeLine(receivedString)" line58="            prijato = true;" line59="        })" line60="        radio.setGroup(radioGroup)" line61="        serial.redirectToUSB()" line62="" line63="        control.runInParallel(function () {" line64="" line65="            while (true){" line66="" line67="                if (prijato){" line68="" line69="                    led.plot(0, 0)" line70="                    pause(100);" line71="                    prijato = false;" line72="                }else{" line73="" line74="                    led.unplot(0, 0);" line75="                    pause(100);" line76="                }" line77="            }" line78="" line79="        });" line80="" line81="        " line82="        input.onButtonPressed(Button.A, function () {" line83="            radio.sendString('GOGO');" line84="        })" line85="" line86="        input.onButtonPressed(Button.B, function () {" line87="            radio.sendString('STOP');" line88="        })" line89="    }" line90="" line91="}" numlines="92"></mutation></block></statement></block></xml>